<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Xinyue & Marc â€” May 22, 2025</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;600;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --yellow: #F6DC5B;  /* site background, from invite */
      --yellow-deep: #EBCB32; /* accents */
      --ink: #111111;    /* primary text */
      --ink-soft: #444;
      --cream: #FFF8D9;
      --accent: #E35B5B; /* small buttons/links */
      --rounded: 18px;
      --shadow: 0 12px 40px rgba(0,0,0,.18);
    }

    html, body { margin: 0; padding: 0; }
    body {
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: var(--ink);
      background: var(--yellow);
      line-height: 1.5;
    }

    /* Top bar */
    header {
      position: sticky; top: 0; z-index: 10;
      backdrop-filter: saturate(140%) blur(8px);
      background: color-mix(in oklab, var(--yellow) 75%, white 25%);
      border-bottom: 1px solid rgba(0,0,0,.06);
    }
    .wrap { max-width: 1100px; margin: 0 auto; padding: 18px 20px; }
    nav { display: flex; gap: 22px; align-items: center; justify-content: space-between; }
    .brand { font-family: "League Spartan", Inter, sans-serif; font-weight: 900; letter-spacing: .5px; }
    .brand a { text-decoration: none; color: var(--ink); font-size: 18px; }
    .links { display: flex; gap: 18px; flex-wrap: wrap; }
    .links a { color: var(--ink); text-decoration: none; font-weight: 600; }
    .links a:hover { text-decoration: underline; }

    /* Hero */
    .hero { display: grid; place-items: center; padding: 28px 20px 48px; }
    .invite-card {
        width: min(750px, 96vw);
        aspect-ratio: 3 / 4;
        background: var(--cream) center / contain no-repeat; /* changed from cover */
        border-radius: 16px;
        box-shadow: var(--shadow);
        overflow: hidden;
        image-rendering: -webkit-optimize-contrast;
    }

    /* Set your image source here: replace the URL below with your final invite image path */
    .invite-card { background-image: url('invitation.jpg'); }

    /* Sections */
    section { padding: 56px 20px; background: #fffef5; }
    section.alt { background: var(--yellow); }
    .section-inner { max-width: 900px; margin: 0 auto; background: white; border-radius: var(--rounded); box-shadow: var(--shadow); overflow: hidden; }
    .section-body { padding: 28px; }

    .headline { font-family: "League Spartan", Inter, sans-serif; font-size: clamp(22px, 3.5vw, 36px); margin: 0; letter-spacing:.5px; }
    .sub { color: var(--ink-soft); margin: 6px 0 0; }

    .kgrid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin-top: 18px; }
    .card { background: #fff; border: 1px solid rgba(0,0,0,.06); border-radius: 14px; padding: 18px; }
    .card h4 { margin: 0 0 8px; font-family: "League Spartan"; }

    /* RSVP */
    form label { font-weight: 600; display: block; margin: 16px 0 6px; }
    input, select, textarea { width: 100%; padding: 12px 12px; border-radius: 12px; border: 1px solid #e2e2e2; font-size: 16px; background: #fff; box-sizing: border-box; }
    textarea { min-height: 110px; resize: vertical; }

    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .row-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
    @media (max-width: 700px) { .row, .row-3 { grid-template-columns: 1fr; } }

    .btn {
      display: inline-flex; align-items: center; justify-content: center; gap: 10px;
      padding: 14px 18px; border-radius: 14px; border: none; cursor: pointer; font-weight: 800;
      font-family: "League Spartan", Inter, sans-serif; letter-spacing:.3px;
    }
    .btn.primary { background: var(--ink); color: #fff; }
    .btn.primary:hover { filter: brightness(1.1); }
    .btn.ghost { background: transparent; border: 2px solid var(--ink); }

    footer { text-align: center; padding: 30px 20px 60px; color: #333; font-size: 14px; }
    footer a { color: inherit; }
  </style>
  <style>
    /* ===== Gate overlay (poster -> invite -> site) ===== */
    body.no-scroll { overflow: hidden; }
    .gate {
      position: fixed; inset: 0; z-index: 9999; display: grid; place-items: center;
      background: #f6dc5b;
      transition: opacity .8s ease, visibility .8s ease;
    }
    .gate.hidden { opacity: 0; visibility: hidden; pointer-events: none; }

    /* Poster fills screen without cropping */
    .gate::before {
      content: ""; position: absolute; inset: 0;
      background: center / contain no-repeat;
      /* Swap this to your final poster asset path */
      background-image: url('invitation.jpg');
    }

    .gate.invite::after {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(255, 248, 217, 0.78);
        backdrop-filter: blur(1px) saturate(1.05);
        z-index: 1; /* overlay sits below text */
    }

    .gate-content {
        position: relative;
        z-index: 2; /* text above the overlay */
        text-align: center;
        padding: 24px;
     }
    .gate-title { font-family: "League Spartan", Inter, sans-serif; font-weight: 900; letter-spacing: .4px;
      font-size: clamp(22px, 4.4vw, 44px); margin: 0 0 8px; color: #111; opacity: 0; transform: translateY(8px);
      transition: opacity .6s ease .1s, transform .6s ease .1s; }
    .gate-sub { font-family: Inter, system-ui, sans-serif; font-size: clamp(14px, 2.2vw, 18px); color: #333; margin: 0; opacity: 0; transform: translateY(8px);
      transition: opacity .6s ease .2s, transform .6s ease .2s; }
    .gate.invite .gate-title, .gate.invite .gate-sub { opacity: 1; transform: translateY(0); }

    .gate-hint {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      font-family: Inter, sans-serif;
      font-weight: 600;
      color: #222;
      opacity: .9;
      font-size: clamp(12px, 3vw, 15px);
      padding: 12px 18px;
      background: rgba(255, 248, 217, 0.3);
      border-radius: 10px;
      backdrop-filter: blur(3px);
      z-index: 3;
    }
  </style>
</head>
<body class="no-scroll">
  <header>
    <div class="wrap">
      <nav>
        <div class="brand"><a id="brandName" href="#home">Xinyue & Marc</a></div>
        <div class="links">
          <a href="#schedule">Schedule</a>
          <a href="#details">Details</a>
          <a href="#rsvp">RSVP</a>
          <a href="#faq">FAQ</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- GATE OVERLAY: Stage 1 (poster), Stage 2 (invite), then reveal site -->
  <div class="gate" id="gate" role="dialog" aria-modal="true" aria-label="Wedding invitation">
    <div class="gate-content">
      <h1 class="gate-title" id="gateTitle"></h1>
      <p class="gate-sub" id="gateSub"></p>
    </div>
    <div class="gate-hint" id="gateHint">Tap or click to continue</div>
  </div>

  <main id="home" class="hero">
    <div class="invite-card" role="img" aria-label="Wedding invitation illustration of Xinyue and Marc in Copenhagen."></div>
  </main>

  <section id="schedule" class="alt">
    <div class="section-inner">
      <div class="section-body">
        <h2 class="headline">Schedule</h2>
        <p class="sub">Hereâ€™s the current plan for the day (May 22nd, 2026).</p>
        <div class="kgrid" style="margin-top:20px;">
          <div class="card"><h4>Reception</h4><p><strong>6:30 PM</strong> Â· Freeman's.</p></div>
          <div class="card"><h4>Dinner</h4><p><strong>7:30 PM</strong> Â· Freeman's.</p></div>
        </div>
      </div>
    </div>
  </section>

  <section id="details">
    <div class="section-inner">
      <div class="section-body">
        <h2 class="headline">Travel & Details</h2>
        <div class="kgrid">
          <div class="card">
            <h4>Location</h4>
            <p> Freeman Alley, New York, NY 10002. <a target="_blank" href="https://www.google.com/maps/place/Freemans/@40.7220384,-73.9924255,17z/data=!3m1!4b1!4m6!3m5!1s0x89c25985d782c045:0x63207e6fa38398bc!8m2!3d40.7220384!4d-73.9924255!16s%2Fg%2F1td21543?entry=ttu&g_ep=EgoyMDI1MTExNy4wIKXMDSoASAFQAw%3D%3D">Open in Google Maps</a>.</p>
          </div>
          <div class="card">
            <h4>Dress Code</h4>
            <p>Cocktail attire âœ¨</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="rsvp" class="alt">
    <div class="section-inner">
      <div class="section-body">
        <h2 class="headline">RSVP</h2>
        <p class="sub">Please let us know if you can join us â€” and when youâ€™ll be in town.</p>

        <form id="rsvpForm" autocomplete="on">
          <div class="row">
            <div>
              <label for="name">Full name*</label>
              <input id="name" name="name" required />
            </div>
            <div>
              <label for="email">Email*</label>
              <input id="email" name="email" type="email" required />
            </div>
          </div>

          <div class="row-3">
            <div>
              <label for="attendance">Will you attend?*</label>
              <select id="attendance" name="attendance" required>
                <option value="">Selectâ€¦</option>
                <option>Yes â€” canâ€™t wait!</option>
                <option>Regretfully no</option>
                <option>Maybe / TBD</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div>
              <label for="arrive">Arrival date</label>
              <input id="arrive" name="arrive" type="date" />
            </div>
            <div>
              <label for="depart">Departure date</label>
              <input id="depart" name="depart" type="date" />
            </div>
          </div>

          <div class="row">
            <div>
              <label for="diet">Dietary needs</label>
              <input id="diet" name="diet" placeholder="Vegetarian, allergies, etc." />
            </div>
          </div>

          <label for="message">Message (optional)</label>
          <textarea id="message" name="message" placeholder="Anything we should know?"></textarea>

          <div style="display:flex; gap:12px; margin-top:18px; align-items:center;">
            <button class="btn primary" type="submit">Send RSVP</button>
            <button class="btn ghost" type="reset">Reset</button>
            <small id="status" aria-live="polite"></small>
          </div>
        </form>
      </div>
    </div>
  </section>

  <section id="faq">
    <div class="section-inner">
      <div class="section-body">
        <h2 class="headline">FAQ</h2>
        <div class="kgrid">
          <div class="card">
            <h4>Can I bring a plus one?</h4>
            <p>No :( Unfortunately space is limited)</p>
          </div>
          <div class="card">
            <h4>Whatâ€™s the weather like in May?</h4>
            <p>Usually mild (18â€“22Â°C). A light jacket is perfect.</p>
          </div>
          <div class="card">
            <h4>Gifts</h4>
            <p>Your presence is the best gift.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div> Â© Xinyue & Marc</div>
  </footer>

  <script>
    // ===== Personalized gate flow (poster -> invite -> site) =====
    const qs = new URLSearchParams(location.search);
    const rawName = qs.get('name') || '';

    function prettifyName(n) {
      if (!n) return '';
      try { n = decodeURIComponent(n); } catch (e) {}
      
      // Treat +, -, _, %20 all as spaces
      n = n.replace(/[+_]/g, ' ')
          .replace(/-/g, ' ')
          .trim();

      if (!n) return '';

      // Proper capitalization for EACH name part
      return n.replace(/\b([A-Za-zÃ€-Ã¿])([A-Za-zÃ€-Ã¿']*)/g, (m, a, b) =>
          a.toUpperCase() + b.toLowerCase()
      );
  }


    const guestName = prettifyName(rawName);
    const gate = document.getElementById('gate');
    const gateTitle = document.getElementById('gateTitle');
    const gateSub = document.getElementById('gateSub');
    const gateHint = document.getElementById('gateHint');
    const brandName = document.getElementById('brandName');

    // Stage 1: poster only (no text)
    // Stage 2: invite with overlay & greeting
    // Stage 3: reveal site
    let stage = 1; // 1 = poster, 2 = invite, 3 = site

    // Prepare texts if we have a name
    const greeting = guestName ? `Welcome, ${guestName}!` : '';
    const subText = guestName ? `We canâ€™t wait to celebrate with you.` : '';

    // First stage shows poster only (no overlay text). Click to go to stage 2.
    function goStage2(){
      gate.classList.add('invite');
      if (greeting){ gateTitle.textContent = greeting; gateSub.textContent = subText; }
      stage = 2;
    }

    function finishGate(){
      // Update brand to greeting if present
      if (greeting) brandName.textContent = greeting;
      document.body.classList.remove('no-scroll');
      gate.classList.add('hidden');
      stage = 3;
    }

    const inviteCard = document.querySelector('.invite-card');

    function finishGate(){
    if (greeting) brandName.textContent = greeting;
    document.body.classList.remove('no-scroll');
    gate.classList.add('hidden');
    if (inviteCard) inviteCard.style.display = 'none'; // Hide invite after opening site
    stage = 3;
    }


    gate.addEventListener('click', () => {
      if (stage === 1) { goStage2(); }
      else if (stage === 2) { finishGate(); }
    });

    // Keyboard accessibility: Enter/Space to advance
    gate.tabIndex = 0;
    gate.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault(); gate.click();
      }
    });

    // If no name, still show stage 2 text with a generic welcome on first click
    if (!guestName) {
      gateSub.textContent = 'Tap to open the invitation';
    } else {
      // Subtle hint updates after a short delay
      setTimeout(()=>{ gateHint.textContent = 'Tap once more to enter the site'; }, 2200);
    }
  </script>

<script>
  const form = document.getElementById('rsvpForm');
  const statusEl = document.getElementById('status');

  // Put your real email here
  const RSVP_EMAIL = 'marcdorp@gmail.com';

  function composeMailto() {
    const data = Object.fromEntries(new FormData(form).entries());

    const subject = encodeURIComponent(`RSVP: ${data.name || ''} â€” ${data.attendance || ''}`);

    const lines = [
      `Name: ${data.name || ''}`,
      `Email: ${data.email || ''}`,
      `Attendance: ${data.attendance || ''}`,
      `Arrival: ${data.arrive || ''}`,
      `Departure: ${data.depart || ''}`,
      `Dietary: ${data.diet || ''}`,
      '',
      (data.message ? `Message: ${data.message}` : '')
    ].join('%0D%0A');

    return `mailto:${RSVP_EMAIL}?subject=${subject}&body=${lines}`;
  }

  // Main form submit â†’ open email draft
// Main form submit â†’ open email draft + show thank you message
form.addEventListener('submit', (e) => {
  e.preventDefault();

  // Open email draft
  window.location.href = composeMailto();

  // Replace form with a thank you message
  form.style.display = "none";

  const thanks = document.createElement("div");
  thanks.style.marginTop = "20px";
  thanks.style.padding = "20px";
  thanks.style.fontFamily = "Inter, sans-serif";
  thanks.style.fontSize = "1.2rem";
  thanks.style.fontWeight = "600";
  thanks.style.textAlign = "center";
  thanks.innerHTML = "ðŸ’› Thank you! Your RSVP email is ready to send.";

  form.parentNode.appendChild(thanks);
});

</script>

</body>
</html>
